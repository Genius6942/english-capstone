<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="https://w7.pngwing.com/pngs/170/643/png-transparent-tree-branch-computer-icons-pruning-wheat-icon-food-leaf-branch.png"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Joshua Liu - Essence of the Choide - English Capstone</title>
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
  </head>
  <body>
    <div
      id="loading"
      class="fixed top-0 left-0 right-0 bottom-0 bg-white flex items-center justify-center z-[1000000000000000]"
    >
      <progress id="progress" value="0" max="100" class="w-96"></progress>
    </div>
    <script type="module" src="/src/main.ts"></script>
    <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
    <script>
      try {
        if (localStorage.getItem("dev-mode") !== 1) throw new Error("no dev mode");
        eruda.init({
          defaults: {
            displaySize: 30,
            theme: "Atom One Dark",
            transparency: 1,
          },
        });
        if (localStorage.getItem("eruda-auto-show") === "1") eruda.show();
        window.addEventListener("keydown", (e) => {
          const { key, ctrlKey } = e;
          if (key === "e" && ctrlKey) {
            e.preventDefault();
            if (localStorage.getItem("eruda-auto-show") === "1") {
              localStorage.setItem("eruda-auto-show", "0");
              eruda.hide();
            } else {
              localStorage.setItem("eruda-auto-show", "1");
              eruda.show();
            }
          }
        });
      } catch (e) {
        // alert(e);
      }
    </script>
    <div
      id="typewriter"
      class="fixed w-screen bottom-0 z-[1002] p-5 backdrop-blur-xl bg-[rgba(255,255,255,.3)] hidden"
    >
      <div class="rounded-3xl border-yellow-700 border-8 p-5 bg-white flex">
        <div class="w-full relative mr-3">
          <div class="empty:hidden italic whitespace-pre" id="title"></div>
          <div class="w-full relative">
            <div id="text" class="absolute top-0 left-0 w-full"></div>
            <div id="text-hidden" class="text-transparent select-none"></div>
            <div class="text-gray-500 font-mono text-end">[Space to continue]</div>
          </div>
        </div>
        <div class="flex flex-col items-center">
          <img height="100" alt="char" class="ml-auto h-[100px]" id="speaking" />
          <div id="name" class="whitespace-nowrap empty:hidden"></div>
        </div>
      </div>
    </div>
    <div
      id="caninteract"
      class="hidden fixed bottom-24 left-1/2 opacity-100 -translate-x-1/2 rounded-full p-3 border-4 border-black bg-white z-[1001] transition-all select-none pointer-events-none"
    >
      Space to interact
    </div>
    <div
      id="fade"
      class="fixed top-0 left-0 right-0 bottom-0 z-[9999] pointer-events-none opacity-0 bg-black"
    ></div>
    <style>
      /* #caninteract {
        transition: all 0.2s ease;
      } */
      #caninteract.hidden {
        display: block !important;
        bottom: -100px;
        opacity: 0;
      }
      @keyframes MoveUpDown {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      #pointer {
        animation: MoveUpDown 1s ease infinite;
      }
    </style>
    <div
      id="instructions-container"
      class="font-bold fixed top-0 left-0 p-3 w-72 bg-[rgba(255,255,255,0.6)] backdrop-blur-xl rounded-br-2xl z-[987]"
    >
      <div class="relative">
        <div id="instructions"></div>
        <div
          class="absolute bottom-0 right-0 w-4 h-4 cursor-pointer"
          style="
            /* background-image: url(https://w7.pngwing.com/pngs/211/405/png-transparent-computer-icons-close-button-trademark-logo-sign.png); */
            object-fit: cover;
            background-position: center;
          "
					onclick="document.getElementById('instructions-container').classList.add('hidden');"
        >
          x
        </div>
      </div>
    </div>
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Red_Arrow_Down.svg/1200px-Red_Arrow_Down.svg.png"
      class="fixed bottom-[230px] right-[65px] h-[100px] z-10 hidden"
      id="pointer"
    />
  </body>
</html>
